mod creation {
    use crate::Int;

    #[test]
    fn maximmum_number_of_digits() {
        let a = Int::with_digits(&[
            9814047247794759920,
            8221081269568818299,
            12303974116353362217,
            13175780254668618652,
            4688020482074265576,
            309817869716111569,
            17990625622913091920,
            2375373922744667203,
            16874299996718624161,
            17289964844370016266,
            4173412299542918285,
            6878286933418990294,
            8961436815872852951,
            8037016722112227866,
            18060313362895502858,
            13725275493163208184,
            10082829642860676218,
            552651243827123816,
            13095941771964033476,
            6492680750758320784,
            17140280078544689415,
            2384340039255482062,
            16802007763768416901,
            12679008452125000717,
            17258473971286312462,
            16990403477761319891,
            3336720415011723153,
            11548981731734235277,
            11058441847142267231,
            12947534202124918389,
            556418016596579213,
            12558500929732769775,
        ]);

        let b = Int {
            dgt: [
                9814047247794759920,
                8221081269568818299,
                12303974116353362217,
                13175780254668618652,
                4688020482074265576,
                309817869716111569,
                17990625622913091920,
                2375373922744667203,
                16874299996718624161,
                17289964844370016266,
                4173412299542918285,
                6878286933418990294,
                8961436815872852951,
                8037016722112227866,
                18060313362895502858,
                13725275493163208184,
                10082829642860676218,
                552651243827123816,
                13095941771964033476,
                6492680750758320784,
                17140280078544689415,
                2384340039255482062,
                16802007763768416901,
                12679008452125000717,
                17258473971286312462,
                16990403477761319891,
                3336720415011723153,
                11548981731734235277,
                11058441847142267231,
                12947534202124918389,
                556418016596579213,
                12558500929732769775,
            ],
            len: 32,
        };

        assert_eq!(a, b);
    }

    #[test]
    fn more_digits_than_maxmimum() {
        let a = Int::with_digits(&[
            7035995116470561996,
            15799079827703118949,
            1196312812855362003,
            10621872891686176071,
            15644978289733344242,
            13688798866686301694,
            10251350567723002113,
            9394174513261490966,
            670746421531938600,
            7434398718895273617,
            2024091819726622262,
            14323709098783219607,
            7698195393548531523,
            3714208577660397351,
            9325002575965367575,
            8781879430809432221,
            1011377845902676056,
            11150757258136250607,
            18122702214507284468,
            15241674503557342566,
            4227185597983269565,
            18239621616700741467,
            3850119352676966523,
            4497145824425581918,
            12544262268603562726,
            14655078982132108033,
            14813410064045918259,
            11610346388382140154,
            16997438674886248347,
            2900696386142787616,
            4049038047075152576,
            1926599733630686310,
            12847120904398879255,
        ]);

        let b = Int {
            dgt: [
                7035995116470561996,
                15799079827703118949,
                1196312812855362003,
                10621872891686176071,
                15644978289733344242,
                13688798866686301694,
                10251350567723002113,
                9394174513261490966,
                670746421531938600,
                7434398718895273617,
                2024091819726622262,
                14323709098783219607,
                7698195393548531523,
                3714208577660397351,
                9325002575965367575,
                8781879430809432221,
                1011377845902676056,
                11150757258136250607,
                18122702214507284468,
                15241674503557342566,
                4227185597983269565,
                18239621616700741467,
                3850119352676966523,
                4497145824425581918,
                12544262268603562726,
                14655078982132108033,
                14813410064045918259,
                11610346388382140154,
                16997438674886248347,
                2900696386142787616,
                4049038047075152576,
                1926599733630686310,
            ],
            len: 32,
        };

        assert_eq!(a, b);
    }

    #[test]
    fn no_digits() {
        assert_eq!(Int::with_digits(&[]), Int::MIN);
    }

    #[test]
    fn less_digits_than_maxmimum() {
        let a = Int::with_digits(&[
            3846718537225852159,
            14440821564470045971,
            4993314731374841758,
        ]);

        let b = Int {
            dgt: [
                3846718537225852159,
                14440821564470045971,
                4993314731374841758,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
            ],
            len: 3,
        };

        assert_eq!(a, b);
    }

    #[test]
    fn leading_zeros() {
        let a = Int::with_digits(&[
            8012955955319221078,
            13838156207890544942,
            7835385100763510655,
            0,
            0,
            0,
        ]);

        let b = Int::with_digits(&[
            8012955955319221078,
            13838156207890544942,
            7835385100763510655,
        ]);

        assert_eq!(a, b);
    }
}

mod add {
    use crate::Int;

    #[test]
    fn indenty_element() {
        let a = Int::with_digits(&[
            14253862118053927173,
            1813566096045210289,
            9082206273040560293,
            9088092238120268866,
            2286072856382846875,
            17567835453472129698,
            10091438887726641075,
            13898798679726984037,
            864204837841299032,
            10347363751139007985,
            3634384660242411734,
            10518901700306753294,
            7153522841211244762,
            11786398568661288242,
            3077708145253405104,
            2123839769326037515,
            16995873809247946498,
            4103909035759327259,
            3935526908135110589,
            17398649467788091818,
            15276132770097014656,
            12000622444934520154,
            17106248430910512037,
            10718713809938634894,
            17791703077968283208,
            1823383812209341343,
            6869091141432245534,
            9881845216914783950,
            9992453876546632636,
            10509305592625562674,
            1173646482700572180,
            1019672116430159508,
        ]);

        assert_eq!(&Int::MIN + &Int::MIN, Int::MIN);
        assert_eq!(&a + &Int::MIN, a);
        assert_eq!(&Int::MIN + &a, a);
    }

    #[test]
    fn inverse_element() {
        let a = Int::with_digits(&[
            17492149672024110083,
            1641530060314706639,
            15130300201014688612,
            5243466387831822452,
            5931000438243990368,
            3856223211704306359,
            9678803605064672673,
            15014486279627649716,
            14930033559429886852,
            11343358245217203074,
            12057525521460039972,
            5193387940889224834,
            15280555361349984924,
            11254140960245820389,
            5351574885663936216,
            11751618191172720498,
            7752385124307239007,
            11784669161697097289,
            1526513045129042718,
            18361460727971183380,
            1606225172394358047,
            8411461112676831915,
            14943684037483696567,
            12950424510812754147,
            15406387799133640133,
            12326548925412632842,
            3059997624864081427,
            9426613382130448775,
            8919260612056383473,
            3866789171364314360,
            17164996887643722097,
            11131266307264457298,
        ]);

        let b = Int::with_digits(&[
            954594401685441533,
            16805214013394844976,
            3316443872694863003,
            13203277685877729163,
            12515743635465561247,
            14590520862005245256,
            8767940468644878942,
            3432257794081901899,
            3516710514279664763,
            7103385828492348541,
            6389218552249511643,
            13253356132820326781,
            3166188712359566691,
            7192603113463731226,
            13095169188045615399,
            6695125882536831117,
            10694358949402312608,
            6662074912012454326,
            16920231028580508897,
            85283345738368235,
            16840518901315193568,
            10035282961032719700,
            3503060036225855048,
            5496319562896797468,
            3040356274575911482,
            6120195148296918773,
            15386746448845470188,
            9020130691579102840,
            9527483461653168142,
            14579954902345237255,
            1281747186065829518,
            7315477766445094317,
        ]);

        assert_eq!(&a + &b, Int::MIN);
        assert_eq!(&b + &a, Int::MIN);
    }

    #[test]
    fn commutativity() {
        let a = Int::with_digits(&[
            4169181563933259289,
            13685627458032622581,
            14477988871014849160,
            7219415779639578591,
            1620919775705615740,
            14817679432283728357,
            12374302309631410244,
            379653963110094215,
            17338275681581015340,
            18375976637419924906,
            17590137071855920629,
            6311443008988471419,
            18262101895036098796,
            11117985240535177396,
            4546756705928512270,
            8890453035549593136,
            105421153986557961,
            5641989481253025458,
            5610898366438936628,
            14876902971528323060,
            7675645648726767078,
            12646511787053186124,
            8014396884193953722,
            14090910253705244523,
            3979046267262753766,
            9862099857717036678,
            9334467207598290320,
            1684923938663927241,
            7352879790867860361,
            6427948172798795276,
            18350498721152441922,
            9014712439371801901,
        ]);

        let b = Int::with_digits(&[
            5470464557337127336,
            6750543711085223390,
            17825653739603029131,
            10388872305755234810,
            5645316887578130235,
            7957780951113745959,
            15278547963706273221,
            3755314693480505440,
            16742751291619326323,
            16733293331658081374,
            8425645454034919585,
            3778754847399335371,
            3594085200310816791,
            17883622551512933457,
            932419415672184380,
            16353432499267641605,
            7193816688559028787,
            6944772366885107946,
            4888347928685364719,
            15814921308878690283,
            5340469946421416216,
            13785953480361022071,
            16194591061939214345,
            189621186213559301,
            10602231051818985298,
            15160972752794028874,
            7965931721108424764,
            17261176856946550891,
            4192794032463940770,
            2618990998223461263,
            2263532916082034196,
            357755405249765960,
        ]);

        let sum = Int::with_digits(&[
            9639646121270386625,
            1989427095408294355,
            13856898536908326676,
            17608288085394813402,
            7266236663283745975,
            4328716309687922700,
            9206106199628131850,
            4134968656590599656,
            15634282899490790047,
            16662525895368454665,
            7569038452181288599,
            10090197856387806791,
            3409443021637363971,
            10554863718338559238,
            5479176121600696651,
            6797141461107683125,
            7299237842545586749,
            12586761848138133404,
            10499246295124301347,
            12245080206697461727,
            13016115595148183295,
            7985721193704656579,
            5762243872423616452,
            14280531439918803825,
            14581277319081739064,
            6576328536801513936,
            17300398928706715085,
            499356721900926516,
            11545673823331801132,
            9046939171022256539,
            2167287563524924502,
            9372467844621567862,
        ]);

        assert_eq!(&a + &b, sum);
        assert_eq!(&b + &a, sum);
    }

    #[test]
    fn associativity() {
        let a = Int::with_digits(&[
            16309084461008796716,
            6804174717992654727,
            16734387088948189867,
            7443130474268174155,
            1942264830247472386,
            13447005720026598923,
            2923167525676288684,
            11300933603219286804,
            11573163018707093849,
            15339742000106075991,
            14591941127310043610,
            2073411125685842612,
            13668710645352105055,
            4333184528975771800,
            5501064401241772869,
            542530464946814828,
            11705696901051087253,
            5486231623406662998,
            9600570329487380979,
            16863704513659656050,
            17702489558900500400,
            6357183765976821364,
            12860168949270142605,
            9241340763546749364,
            7828510235078339264,
            14535271865320115329,
            17284320820238250209,
            16263687553139648148,
            9166772250930712887,
            413139064095085172,
            11197874739348630982,
            13784265262921956829,
        ]);

        let b = Int::with_digits(&[
            8547995021632550530,
            3002423032322550519,
            1909584889846999321,
            1093269983281708179,
            6832253485167075842,
            14749025189608747912,
            7146551984433191449,
            5436131360908130757,
            15140745042395553372,
            6747691100579156725,
            13159135683350640566,
            17918758248505554082,
            17617352281933288944,
            9816182855164960470,
            15633309993780011510,
            2684891691411468375,
            6739249521673949883,
            17991375283663371657,
            5396872401674980366,
            14968525416238472655,
            17944091092140522041,
            8064377260567324386,
            6346383859448977337,
            8916149362366053196,
            4198886939479405521,
            2718075963567023800,
            16186708376645157587,
            16466865440037219855,
            3683779998210481894,
            9458620688002802753,
            14543087029751208015,
            2546200952981501084,
        ]);

        let c = Int::with_digits(&[
            3003808112035411158,
            15489488181420348261,
            8837540378300332449,
            1148514356850361668,
            13862454421546682994,
            4593928035281441492,
            3288998306997488243,
            1056824266250380877,
            1883325662664938250,
            3815132127957890695,
            10296648079673626383,
            4602687780025319265,
            11154133836753882132,
            12061755550474043189,
            16455050585519305627,
            2432508996925317233,
            7432259814291781416,
            5372290468558680587,
            6822090283356549524,
            9483849754370098778,
            12911639845541262429,
            1022056377126848765,
            560865480702087258,
            7180621197094418564,
            12108261451035659908,
            9663922312322050528,
            8285871587453097959,
            14963236586394265594,
            14476908385214996563,
            1952048839887529630,
            4799714337173626219,
            9424195277764632861,
        ]);

        let sum = Int::with_digits(&[
            9414143520967206788,
            6849341858026001892,
            9034768283385970022,
            9684914814400244003,
            4190228663251679606,
            14343214871207236712,
            13358717817106968377,
            17793889230377798438,
            10150489650058033855,
            7455821154933571796,
            1154236742915207328,
            6148113080507164345,
            5546708616620172900,
            7764378860905223845,
            695936833121986775,
            5659931153283600438,
            7430462163307266936,
            10403153301919163627,
            3372788940809359254,
            4422591536849124252,
            11664732349163181640,
            15443617403670994517,
            1320674215711655584,
            6891367249297669509,
            5688914551883853078,
            8470526067499638042,
            4863412636917402524,
            10800301432152030367,
            8880716560646639730,
            11823808591985417556,
            12093932032563913600,
            7307917419958539159,
        ]);

        assert_eq!((&a + &b) + &c, sum);
        assert_eq!(&a + (&b + &c), sum);
    }
}

mod sub {
    use crate::Int;

    #[test]
    fn inverse_of_add() {
        let a = Int::with_digits(&[
            12115518087191642414,
            5126436954712198273,
            5425418814195869849,
            17720980981802887351,
            2446667033070866049,
            11762206793264568611,
            18343501362222234800,
            6511237411985987715,
            2229070867667235890,
            941143143221058890,
            8021203276236474242,
            334247247094387141,
            12868109427623315269,
            5176406789300330479,
            15715564652953352505,
            6869610415541723007,
            13985519520517248343,
            14470491078298232789,
            2957083855311315834,
            9998425061939962553,
            506329406264004230,
            3498130833482616099,
            2938061243313691189,
            16219205354900693705,
            7159452464101886734,
            11949276503227929328,
            15846956993546629600,
            758422772628895773,
            15552831831149945718,
            3749757531112229550,
            13367941908063618377,
            5108223393049148913,
        ]);

        let b = Int::with_digits(&[
            6331225986517909202,
            13320307118997353342,
            13021325259513681766,
            725763091906664264,
            16000077040638685566,
            6684537280444983004,
            103242711487316815,
            11935506661723563900,
            16217673206042315725,
            17505600930488492725,
            10425540797473077373,
            18112496826615164474,
            5578634646086236346,
            13270337284409221136,
            2731179420756199110,
            11577133658167828608,
            4461224553192303272,
            3976252995411318826,
            15489660218398235781,
            8448319011769589062,
            17940414667445547385,
            14948613240226935516,
            15508682830395860426,
            2227538718808857910,
            11287291609607664881,
            6497467570481622287,
            2599787080162922015,
            17688321301080655842,
            2893912242559605897,
            14696986542597322065,
            5078802165645933238,
            13338520680660402702,
        ]);

        let c = &a + &b;

        assert_eq!(&c - &a, b);
        assert_eq!(&c - &b, a);
    }

    #[test]
    fn zero_subtrahend() {
        let a = Int::with_digits(&[
            7090456867866088047,
            4124345104349790484,
            6957446954967784334,
            7449813409076156729,
            9653771956348849574,
            17731909079457688098,
            7458908868899466243,
            11889833956320504310,
            12981693615120198332,
            1318966975212421055,
            12743980192804029255,
            10485496238380868295,
            4691633882423376420,
            8399440728840225923,
            16078444563742344432,
            15804301346710440357,
            10123725524285903862,
            13966308946232288374,
            4259983839646913728,
            11816315463985488798,
            14488916670192357704,
            7462837835403132548,
            8555165723822936064,
            3189594962956262359,
            143871455166415568,
            18052643080940788485,
            12228437280133018764,
            12029284809473125440,
            2669740436982244492,
            10093297936777647339,
            17026080401542918402,
            2267952911729472713,
        ]);

        assert_eq!(&a - &Int::MIN, a);
    }

    #[test]
    fn zero_minuend() {
        let a = Int::with_digits(&[
            17259606647865168081,
            7245979368699295058,
            9990695301892059053,
            16877907661328684783,
            3232282097235025621,
            11575265688133728538,
            13157584497084843934,
            2637846184838136516,
            2568688625508565049,
            4093881201243829930,
            14453202663868987154,
            11028996801920053753,
            15985909369227349894,
            5684632465664742043,
            9329753427338295767,
            4317097959824798791,
            4516360575766520564,
            15513102187227713863,
            17417574754116073538,
            12376183048660292221,
            755022024140016542,
            5166289370219207080,
            4050823769202451162,
            17000291397421371232,
            18216936240481893227,
            15336345616065776009,
            346026359210038482,
            6736490866740584234,
            3733258301263000642,
            8292323279689329143,
            375685089888039813,
            7166838067138706422,
        ]);

        assert_eq!(&Int::MIN - &a, &Int::MAX - &a + &Int::with_digits(&[1]));
    }
}
